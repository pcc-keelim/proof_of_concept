<clickhouse>
    <openSSL>
        <server>
            <!--REPLACEMEWITHHOST is changed when setup.sh is run -->
            <!-- TODO configure our own certificate authority for convenience -->
            <!-- <caConfig>/etc/custom_certs/cmt-ca-chain.pem</caConfig>		     -->
            <certificateFile>/etc/custom_certs/{{ ssl_cert_common_name }}.cert.pem</certificateFile>
            <privateKeyFile>/etc/custom_certs/{{ ssl_cert_common_name }}.key.pem</privateKeyFile>	    
            <!-- <dhParamsFile>/etc/custom_certs/dhparam.pem</dhParamsFile>	may need in future		     -->
            <!-- TODO Change this back to relaxed then figure out how to pass the correct files -->
            <verificationMode>none</verificationMode>
            <loadDefaultCAFile>false</loadDefaultCAFile>
            <cacheSessions>true</cacheSessions>
            <disableProtocols>sslv2,sslv3</disableProtocols>
            <preferServerCiphers>true</preferServerCiphers>
            <invalidCertificateHandler>
                <name>RejectCertificateHandler</name>
            </invalidCertificateHandler>
        </server>
        <client> <!-- Used for connecting to https dictionary source and secured Zookeeper communication -->
            <loadDefaultCAFile>true</loadDefaultCAFile>
            <cacheSessions>true</cacheSessions>
            <disableProtocols>sslv2,sslv3</disableProtocols>
            <preferServerCiphers>true</preferServerCiphers>
            <!-- Use for self-signed: <verificationMode>none</verificationMode> -->
            <invalidCertificateHandler>
                <!-- Use for self-signed: <name>AcceptCertificateHandler</name> -->
                <name>RejectCertificateHandler</name>
            </invalidCertificateHandler>
        </client>
    </openSSL>
</clickhouse>